<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neon QR Generator</title>
    <script src="https://cdn.jsdelivr.net/npm/qr-code-styling@1.6.0-rc.1/lib/qr-code-styling.js"></script>

    <style>
        body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;background:#f4f6f9;margin:0;padding:15px;display:flex;flex-direction:column;align-items:center;transition:all .4s;color:#222}
        body.dark{background:#0d0a1a;color:#e879f9}
        .container{background:white;padding:20px;border-radius:16px;box-shadow:0 8px 30px rgba(0,0,0,0.15);width:100%;max-width:360px;text-align:center;transition:all .4s}
        body.dark .container{background:#1a0d2e;border:2px solid #e879f9;box-shadow:0 0 30px rgba(232,121,249,0.3)}
        h1{margin:0 0 12px;font-size:20px;font-weight:800;background:linear-gradient(90deg,#e879f9,#ff7ac6);-webkit-background-clip:text;color:transparent}

        .dark-mode-row{display:flex;align-items:center;justify-content:space-between;margin:10px 0;padding:0 6px;font-weight:700;font-size:14px;color:#888}
        body.dark .dark-mode-row label{color:#e879f9}
        .switch{width:40px;height:22px;position:relative;display:inline-block}
        .switch input{opacity:0;width:0;height:0}
        .slider{position:absolute;top:0;left:0;right:0;bottom:0;background:#555;border-radius:34px;border:2px solid #e879f9;transition:.4s}
        body.dark .slider{background:transparent}
        .slider:before{position:absolute;content:"";height:16px;width:16px;left:2px;bottom:2px;background:white;border-radius:50%;transition:.4s}
        input:checked+.slider{background:#e879f9}
        input:checked+.slider:before{transform:translateX(16px)}

        /* ALLE 3 DE VELDEN NU PERFECT GELIJK */
        input[type="text"], select{
            width:100%;
            padding:11px 12px;
            margin:8px 0;
            border:none;
            border-radius:10px;
            font-size:15px;
            box-shadow:0 0 0 2px #e879f9 inset;
            background:#fff;
            color:#222;
            box-sizing:border-box;
            appearance:none;
            -webkit-appearance:none;
            transition:all .3s;
        }
        input[type="text"]:focus, select:focus{
            outline:none;
            box-shadow:0 0 0 3px #e879f9,0 0 15px rgba(232,121,249,0.4);
        }
        body.dark input[type="text"], body.dark select{
            background:#0d0a1a;
            color:#e879f9;
        }
        body.dark input[type="text"]:focus, body.dark select:focus{
            box-shadow:0 0 0 3px #e879f9,0 0 20px rgba(232,121,249,0.6);
        }

        button{width:100%;padding:12px;margin:8px 0;border:none;border-radius:10px;font-size:15px;font-weight:bold;cursor:pointer}
        #generateBtn{background:linear-gradient(135deg,#e879f9,#c084fc);color:white;box-shadow:0 6px 15px rgba(232,121,249,0.4)}
        #generateBtn:hover{transform:translateY(-1px)}
        .download-btn{background:linear-gradient(135deg,#ff9e5c,#ff7ac6);color:white;box-shadow:0 6px 15px rgba(255,158,92,0.4)}
        .download-btn:hover{transform:translateY(-1px)}
        #qrCanvas{margin:20px auto;padding:20px;background:#fff;border-radius:16px;box-shadow:0 8px 25px rgba(0,0,0,0.15);transition:all .4s}
        body.dark #qrCanvas{background:linear-gradient(135deg,#1a0d2e,#2d1b4e);border:2px solid #e879f9;box-shadow:0 0 30px rgba(232,121,249,0.5);padding:22px}
    </style>
</head>
<body>

<div class="container">
    <h1>Neon QR</h1>

    <div class="dark-mode-row">
        <label>Dark Mode
            <span class="switch"><input type="checkbox" id="darkModeToggle"><span class="slider"></span></span>
        </label>
    </div>

    <input type="text" id="text" placeholder="Text / URL" value="https://example.com">
    <select id="size">
        <option value="200">200×200</option>
        <option value="280" selected>280×280</option>
        <option value="360">360×360</option>
    </select>
    <select id="errorCorrection">
        <option value="M" selected>Medium</option>
        <option value="Q">High</option>
        <option value="H">Very High</option>
    </select>

    <button id="generateBtn">Generate</button>
    <div id="qrCanvas"></div>
    <button id="downloadBtn" class="download-btn">Download PNG</button>
</div>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const qrCode = new QRCodeStyling({
            width:280,height:280,data:"https://example.com",margin:10,
            qrOptions:{errorCorrectionLevel:"H"},
            dotsOptions:{type:"rounded"},
            cornersSquareOptions:{type:"extra-rounded"},
            cornersDotOptions:{type:"dot"},
            backgroundOptions:{color:"#0d0a1a"}
        });
        qrCode.append(document.getElementById("qrCanvas"));

        const toggle = document.getElementById("darkModeToggle");
        if (localStorage.getItem("darkMode")==="enabled") {
            document.body.classList.add("dark");
            toggle.checked = true;
        }

        const gen = () => {
            const txt = document.getElementById("text").value.trim() || "https://example.com";
            const sz = parseInt(document.getElementById("size").value);
            const dark = document.body.classList.contains("dark");

            qrCode.update({
                width:sz,height:sz,data:txt,
                dotsOptions:{color:dark?"#e879f9":"#000000"},
                cornersSquareOptions:{color:dark?"#e879f9":"#000000"},
                cornersDotOptions:{color:dark?"#ff7ac6":"#000000"},
                backgroundOptions:{color:dark?"#0d0a1a":"#ffffff"},
                dotsOptionsHelper: dark ? {colorType:{gradient:{type:"radial",colorStops:[
                    {offset:0,color:"#e879f9"},{offset:0.5,color:"#f778ba"},{offset:1,color:"#ff9e5c"}
                ]}}} : undefined
            });
        };

        toggle.addEventListener("change", () => {
            document.body.classList.toggle("dark");
            localStorage.setItem("darkMode", toggle.checked ? "enabled" : "disabled");
            gen();
        });
        document.getElementById("generateBtn").onclick = gen;
        document.getElementById("downloadBtn").onclick = () => qrCode.download({name:"neon-qr",extension:"png"});
        gen();
    });
</script>
</body>
</html>
